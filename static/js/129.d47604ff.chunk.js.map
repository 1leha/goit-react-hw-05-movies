{"version":3,"file":"static/js/129.d47604ff.chunk.js","mappings":"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","sources":["components/ReviewsList/ReviewsList.styled.jsx","components/ReviewsList/ReviewsList.jsx","components/Reviews/Reviews.jsx","utils/apiService.js","utils/options.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const ReviewsItemStyled = styled.li`\n  display: block;\n  padding: ${p => p.theme.space[4]}px;\n\n  background-color: ${p => p.theme.colors.reviewBg};\n\n  border-radius: ${p => p.theme.radii.standart};\n`;\n\nexport const ReviewsTitleStyled = styled.h4`\n  font-size: ${p => p.theme.fontSizes.m};\n\n  margin-top: ${p => p.theme.space[0]};\n  margin-bottom: ${p => p.theme.space[2]}px;\n`;\n\nexport const ReviewsContentStyled = styled.p`\n  font-size: ${p => p.theme.fontSizes.m};\n\n  margin-top: ${p => p.theme.space[0]};\n  margin-bottom: ${p => p.theme.space[2]}px;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Box } from '../Box';\nimport {\n  ReviewsItemStyled,\n  ReviewsTitleStyled,\n  ReviewsContentStyled,\n} from './ReviewsList.styled';\n\nconst ReviewsList = ({ reviews }) => {\n  return (\n    <Box as=\"ul\" display=\"flex\" flexDirection=\"column\" gridGap={4}>\n      {reviews.map(({ id, author, content }) => {\n        return (\n          <ReviewsItemStyled key={id}>\n            <ReviewsTitleStyled>{author}</ReviewsTitleStyled>\n            <ReviewsContentStyled>{content}</ReviewsContentStyled>\n          </ReviewsItemStyled>\n        );\n      })}\n    </Box>\n  );\n};\n\nReviewsList.propTypes = {\n  reviews: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      author: PropTypes.string.isRequired,\n      content: PropTypes.string.isRequired,\n    })\n  ),\n};\n\nexport default ReviewsList;\n","import ReviewsList from 'components/ReviewsList';\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport { tmdAPI } from '../../utils/apiService';\nimport { renderMashineStatus } from '../../utils/options';\n\nconst movieAPI = new tmdAPI();\n\nconst Reviews = () => {\n  const { movieId } = useParams();\n  const [reviews, setReviews] = useState([]);\n  const [status, setStatus] = useState(renderMashineStatus.IDLE);\n\n  useEffect(() => {\n    setStatus(renderMashineStatus.IDLE);\n    movieAPI.getReviews(movieId).then(reviews => {\n      if (reviews.length === 0) {\n        setStatus(renderMashineStatus.EMPTY);\n        return;\n      }\n      setStatus(renderMashineStatus.SUСCESS);\n      setReviews(reviews);\n    });\n  }, [movieId]);\n\n  if (status === renderMashineStatus.IDLE) return;\n\n  if (status === renderMashineStatus.EMPTY) {\n    return <div>We have no reviews for this film yet.</div>;\n  }\n\n  if (status === renderMashineStatus.SUСCESS) {\n    return (\n      <section>\n        <ReviewsList reviews={reviews} />\n      </section>\n    );\n  }\n};\n\nexport default Reviews;\n","import axios from 'axios';\nimport { apiKey, basePosterURL } from './options';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport class tmdAPI {\n  init = async () => {\n    await this.getTrending();\n  };\n\n  getTrendingMovies = async () => {\n    const response = await axios.get(`trending/movie/day?api_key=${apiKey}`);\n    const trending = await response.data.results;\n    return await trending;\n  };\n\n  getMovie = async movieId => {\n    const movie = await axios.get(\n      `movie/${movieId}?api_key=${apiKey}&language=en-US`\n    );\n\n    const { genres, id, title, poster_path, vote_average, overview } =\n      await movie.data;\n    const posterPath = (await poster_path)\n      ? `${basePosterURL + poster_path}`\n      : 'https://via.placeholder.com/200x300';\n\n    return { genres, id, title, posterPath, vote_average, overview };\n  };\n\n  getActors = async movieId => {\n    const response = await axios.get(\n      `movie/${movieId}/credits?api_key=${apiKey}&language=en-US`\n    );\n    const cast = await response.data.cast;\n\n    const actors = await cast.map(({ id, name, character, profile_path }) => {\n      const actorPhotoPath = profile_path\n        ? `${basePosterURL + profile_path}`\n        : 'https://via.placeholder.com/150x200';\n\n      return { id, name, character, actorPhotoPath };\n    });\n\n    return await actors;\n  };\n\n  getReviews = async movieId => {\n    const response = await axios.get(\n      `movie/${movieId}/reviews?api_key=${apiKey}&language=en-US`\n    );\n\n    return await response.data.results;\n  };\n\n  searchMovie = async query => {\n    const response = await axios.get(\n      `/search/movie/?api_key=${apiKey}&language=en-US&page=1&include_adult=false&query=${query}`\n    );\n\n    return await response.data.results;\n  };\n}\n","export const apiKey = '769e92a3a56ccf8930092eceecb76b44';\nexport const baseURL = 'https://api.themoviedb.org/3';\nexport const basePosterURL = 'https://image.tmdb.org/t/p/w500';\n\nexport const renderMashineStatus = {\n  IDLE: 'idle',\n  EMPTY: 'empty',\n  SUСCESS: 'suсcess',\n};\n"],"names":["ReviewsItemStyled","styled","p","theme","space","colors","reviewBg","radii","standart","ReviewsTitleStyled","fontSizes","m","ReviewsContentStyled","reviews","Box","as","display","flexDirection","gridGap","map","id","author","content","movieAPI","tmdAPI","movieId","useParams","useState","setReviews","renderMashineStatus","status","setStatus","useEffect","getReviews","then","length","axios","init","getTrending","getTrendingMovies","apiKey","response","data","results","trending","getMovie","movie","genres","title","poster_path","vote_average","overview","basePosterURL","posterPath","getActors","cast","name","character","profile_path","actorPhotoPath","actors","searchMovie","query","IDLE","EMPTY","SUСCESS"],"sourceRoot":""}