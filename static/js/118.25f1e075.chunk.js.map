{"version":3,"file":"static/js/118.25f1e075.chunk.js","mappings":"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","sources":["components/SearchForm/SearchForm.styled.jsx","components/SearchForm/SearchForm.jsx","Page/Movie/Movie.jsx","components/FilmItem/FilmItem.styled.jsx","components/FilmItem/FilmItem.jsx","components/FilmList/FilmList.jsx","utils/apiService.js","utils/options.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const FormStyled = styled.form`\n  margin-bottom: ${p => p.theme.space[4]}px;\n`;\n\nexport const InputStyled = styled.input`\n  padding: ${p => p.theme.space[2]}px;\n`;\n\nexport const ButtonStyled = styled.button`\n  padding: ${p => p.theme.space[2]}px;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { FormStyled, InputStyled, ButtonStyled } from './SearchForm.styled';\n\nconst SearchForm = ({ onSubmit }) => {\n  return (\n    <FormStyled onSubmit={onSubmit} autoComplete=\"off\">\n      <InputStyled type=\"text\" name=\"search\" />\n      <ButtonStyled type=\"subbmit\">Search</ButtonStyled>\n    </FormStyled>\n  );\n};\n\nSearchForm.propTypes = { onSubmit: PropTypes.func.isRequired };\n\nexport default SearchForm;\n","import React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport SearchForm from '../../components/SearchForm';\nimport FilmList from '../../components/FilmList';\n\nimport { Container } from '../../components/Common/Common.styled';\n\nimport { tmdAPI } from '../../utils/apiService';\n\nconst movieAPI = new tmdAPI();\n\nconst Movie = () => {\n  const [searchResult, setSearchResult] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  const handlerSubmit = e => {\n    e.preventDefault();\n\n    const searchQuery = e.target.elements.search.value.trim().toLowerCase();\n\n    setSearchParams(searchQuery !== '' ? { query: searchQuery } : {});\n\n    e.target.reset();\n  };\n\n  useEffect(() => {\n    if (!query) return;\n    movieAPI.searchMovie(query).then(setSearchResult);\n  }, [query]);\n\n  return (\n    <Container>\n      <h2>Find your movie</h2>\n      <SearchForm onSubmit={handlerSubmit} />\n      {searchResult.length > 0 && <FilmList films={searchResult} />}\n    </Container>\n  );\n};\n\nexport default Movie;\n","import { NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const FilmLinkStyled = styled(NavLink)`\n  font-size: ${p => p.theme.fontSizes.m};\n\n  color: ${p => p.theme.colors.link};\n\n  &.active {\n    color: ${p => p.theme.colors.active};\n  }\n\n  &:hover:not(.active) {\n    color: ${p => p.theme.colors.hovered};\n  }\n\n  transition: ${p => p.theme.transitions};\n`;\n\nexport const FilmItemStyled = styled.li`\n  &:not(:last-child) {\n    margin-bottom: ${p => p.theme.space[2]}px;\n  }\n`;\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\nimport { FilmLinkStyled, FilmItemStyled } from './FilmItem.styled';\n\nconst FilmItem = ({ title, linkTo, linkFrom }) => {\n  return (\n    <FilmItemStyled>\n      <FilmLinkStyled to={linkTo} state={linkFrom}>\n        {title}\n      </FilmLinkStyled>\n    </FilmItemStyled>\n  );\n};\n\nFilmItem.propTypes = {\n  title: PropTypes.string.isRequired,\n  linkTo: PropTypes.string,\n  linkFrom: PropTypes.shape({\n    from: PropTypes.shape({\n      pathname: PropTypes.string,\n      search: PropTypes.string,\n      hash: PropTypes.string,\n      state: PropTypes.any,\n      key: PropTypes.string,\n    }).isRequired,\n  }).isRequired,\n};\n\nexport default FilmItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\n\nimport FilmItem from '../FilmItem';\n\nconst FilmList = ({ films, path = '' }) => {\n  const location = useLocation();\n\n  return (\n    <ul>\n      {films.map(({ id, title }) => {\n        return (\n          <FilmItem\n            key={id}\n            title={title}\n            linkTo={`${path}${id}`}\n            linkFrom={{ from: location }}\n          />\n        );\n      })}\n    </ul>\n  );\n};\n\nFilmList.propTypes = {\n  films: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n  path: PropTypes.string,\n};\n\nexport default FilmList;\n","import axios from 'axios';\nimport { apiKey, basePosterURL } from './options';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport class tmdAPI {\n  init = async () => {\n    await this.getTrending();\n  };\n\n  getTrendingMovies = async () => {\n    const response = await axios.get(`trending/movie/day?api_key=${apiKey}`);\n    const trending = await response.data.results;\n    return await trending;\n  };\n\n  getMovie = async movieId => {\n    const movie = await axios.get(\n      `movie/${movieId}?api_key=${apiKey}&language=en-US`\n    );\n\n    const { genres, id, title, poster_path, vote_average, overview } =\n      await movie.data;\n    const posterPath = (await poster_path)\n      ? `${basePosterURL + poster_path}`\n      : 'https://via.placeholder.com/200x300';\n\n    return { genres, id, title, posterPath, vote_average, overview };\n  };\n\n  getActors = async movieId => {\n    const response = await axios.get(\n      `movie/${movieId}/credits?api_key=${apiKey}&language=en-US`\n    );\n    const cast = await response.data.cast;\n\n    const actors = await cast.map(({ id, name, character, profile_path }) => {\n      const actorPhotoPath = profile_path\n        ? `${basePosterURL + profile_path}`\n        : 'https://via.placeholder.com/150x200';\n\n      return { id, name, character, actorPhotoPath };\n    });\n\n    return await actors;\n  };\n\n  getReviews = async movieId => {\n    const response = await axios.get(\n      `movie/${movieId}/reviews?api_key=${apiKey}&language=en-US`\n    );\n\n    return await response.data.results;\n  };\n\n  searchMovie = async query => {\n    const response = await axios.get(\n      `search/movie?api_key=${apiKey}&language=en-US&page=1&include_adult=false&query=${query}`\n    );\n\n    return await response.data.results;\n  };\n}\n","export const apiKey = '769e92a3a56ccf8930092eceecb76b44';\nexport const baseURL = 'https://api.themoviedb.org/3';\nexport const basePosterURL = 'https://image.tmdb.org/t/p/w500';\n\nexport const renderMashineStatus = {\n  IDLE: 'idle',\n  EMPTY: 'empty',\n  SUСCESS: 'suсcess',\n};\n"],"names":["FormStyled","styled","p","theme","space","InputStyled","ButtonStyled","onSubmit","autoComplete","type","name","movieAPI","tmdAPI","useState","searchResult","setSearchResult","useSearchParams","searchParams","setSearchParams","query","get","useEffect","searchMovie","then","e","preventDefault","searchQuery","target","elements","search","value","trim","toLowerCase","reset","length","FilmList","films","FilmLinkStyled","NavLink","fontSizes","m","colors","link","active","hovered","transitions","FilmItemStyled","title","linkTo","linkFrom","to","state","path","location","useLocation","map","id","from","axios","init","getTrending","getTrendingMovies","apiKey","response","data","results","trending","getMovie","movieId","movie","genres","poster_path","vote_average","overview","basePosterURL","posterPath","getActors","cast","character","profile_path","actorPhotoPath","actors","getReviews","renderMashineStatus","IDLE","EMPTY","SUСCESS"],"sourceRoot":""}